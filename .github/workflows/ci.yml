name: CI

on:
  push:
    branches: [ "main" ]

  workflow_dispatch:

jobs:

  quality-assurance:
    name: Quality Assurance
    uses: ./.github/workflows/quality_assurance.yml

  release-notes-generation:
    name: Release generation
    uses: ./.github/workflows/release_notes_generation.yml
    needs: quality-assurance

  publish-pypi:
    name: Publish to test pypi
    uses: ./.github/workflows/publish_pypi.yml
    needs: quality-assurance
